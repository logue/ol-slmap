(()=>{"use strict";var e={6181:function(e,t,o){var n=o(5920),r=o(6699),a=o(3052),i=o(8053),l=o(584),d=o(7044),s=o(5247),c=o(4230),m=o(429),u=o(8572),p=o(5758);let f="https://cap.secondlife.com/",h=document.getElementById("popup"),g=document.getElementById("popup-content"),v=document.getElementById("popup-closer"),b=new l.Z({element:h,autoPan:{animation:{duration:250}}});v.onclick=()=>(b.setPosition(void 0),v.blur(),!1);let y=[0,0,1048576,1048576],w=[];for(let e=1;e<=8;e++)w.unshift(Math.pow(2,e-1));let $=new n.kv({code:"raster",units:"tile-pixels",extent:y});(0,n.Sx)($);let x=new d.Z({source:new m.Z({projection:$,tileGrid:new s.Z({extent:y,resolutions:w,tileSize:256,origin:[0,0]}),tileUrlFunction:e=>{let t=e[0],o=e[1],n=e[2],r=Math.abs(t-8),a=Math.pow(2,r-1),i=(Math.abs(n)-1)*a;return`https://secondlife-maps-cdn.akamaized.net/map-${r}-${o*a}-${i}-objects.jpg`},attributions:`\xa9 <a href="https://secondlife.com/">Second Life</a>`})}),C=new a.Z({controls:[new i.Z({className:"text-end text-warning",coordinateFormat:e=>{if(!e)return"";let t=[];return e.forEach(e=>t.push(e.toFixed(0))),t.join(", ")},target:document.getElementById("mouse-position")}),new u.Z,new p.Z,new r.Z({collapsible:!1})],target:"map",layers:[x],overlays:[b],view:new c.ZP({projection:$,center:[255230,256510],zoom:1,minZoom:0,maxZoom:7,extent:y,resolution:1,resolutions:w})});function E(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sl-dynamic-script";document.getElementById(o)&&document.body.removeChild(document.getElementById(o));let n=document.createElement("script");n.src=e,n.id=o,n.type="text/javascript",document.body.appendChild(n),t&&(n.addEventListener("readystatechange",()=>{("complete"==n.readyState||"loaded"==n.readyState)&&t()}),n.onload=()=>t())}C.on("singleclick",async e=>{let t=e.coordinate,o=t[0]/256,n=t[1]/256,r=Math.floor(o),a=Math.floor(n),i=Math.round((o-r)*256),l=Math.round((n-a)*256);E(`${f}cap/0/b713fe80-283b-4585-af4d-a3b7d9a32492?var=slRegionName&grid_x=${r}&grid_y=${a}`,async()=>{if(null==slRegionName||slRegionName.error)return;let e=encodeURIComponent(slRegionName),o=`${e}/${i}/${l}`,n=`secondlife://${o}`;g.innerHTML=`<h3><a href="${n}">${slRegionName}</a></h3><p>Tile: ${r}, ${a}<br />Coordinate: ${Math.round(t[0])}, ${Math.round(t[1])}</p><div class="d-grid gap-2"><a class="btn btn-primary" title="Teleport" href="${n}">Teleport</a><a class="btn btn-secondary" href="https://join.secondlife.com/">Join free today</a></div></div>`,b.setPosition(t)})}),document.getElementById("search-form").addEventListener("submit",e=>{console.log("Search form submitted"),e.preventDefault();let t=document.getElementById("search-input").value.trim();t&&E(`${f}cap/0/d661249b-2b5a-4436-966a-3d3b8d7a574f?var=slCoord&sim_name=${encodeURIComponent(t)}`,()=>{if(null==slCoord||slCoord.error)return void alert("Region not found");let e=256*slCoord.x,t=256*slCoord.y;C.getView().setCenter([e,t]),C.getView().setZoom(7)})})}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,o),a.exports}o.m=e,o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=[];o.O=(t,n,r,a)=>{if(n){a=a||0;for(var i=e.length;i>0&&e[i-1][2]>a;i--)e[i]=e[i-1];e[i]=[n,r,a];return}for(var l=1/0,i=0;i<e.length;i++){for(var[n,r,a]=e[i],d=!0,s=0;s<n.length;s++)(!1&a||l>=a)&&Object.keys(o.O).every(e=>o.O[e](n[s]))?n.splice(s--,1):(d=!1,a<l&&(l=a));if(d){e.splice(i--,1);var c=r();void 0!==c&&(t=c)}}return t}})(),(()=>{var e={980:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var r,a,[i,l,d]=n,s=0;if(i.some(t=>0!==e[t])){for(r in l)o.o(l,r)&&(o.m[r]=l[r]);if(d)var c=d(o)}for(t&&t(n);s<i.length;s++)a=i[s],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(c)},n=globalThis.webpackChunkol_slmap=globalThis.webpackChunkol_slmap||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var n=o.O(void 0,["44"],function(){return o(6181)});n=o.O(n)})();